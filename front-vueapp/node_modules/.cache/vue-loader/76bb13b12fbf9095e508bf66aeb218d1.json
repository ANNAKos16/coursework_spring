{"remainingRequest":"D:\\coursework_spring\\coursework_spring\\front-vueapp\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\coursework_spring\\coursework_spring\\front-vueapp\\src\\components\\adminPage.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\coursework_spring\\coursework_spring\\front-vueapp\\src\\components\\adminPage.vue","mtime":1608375477840},{"path":"D:\\coursework_spring\\coursework_spring\\front-vueapp\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\coursework_spring\\coursework_spring\\front-vueapp\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\coursework_spring\\coursework_spring\\front-vueapp\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\coursework_spring\\coursework_spring\\front-vueapp\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQoNCmltcG9ydCBHYW1lRGF0YVNlcnZpY2UgZnJvbSAiLi4vc2VydmljZXMvR2FtZURhdGFTZXJ2aWNlIjsNCi8vaW1wb3J0IE1lbWJlckRhdGFTZXJ2aWNlIGZyb20gIi4uL3NlcnZpY2VzL01lbWJlckRhdGFTZXJ2aWNlIjsNCmltcG9ydCBOZXdzRGF0YVNlcnZpY2UgZnJvbSIuLi9zZXJ2aWNlcy9OZXdzRGF0YVNlcnZpY2UiDQoNCmV4cG9ydCBkZWZhdWx0IHsNCiAgICANCiAgICBuYW1lOiAiYWRtaW5QYW5lbCIsDQoNCiAgICBkYXRhKCl7DQogICAgICAgIHJldHVybnsNCiAgICAgICAgICAgIGdhbWVzOltdLA0KICAgICAgICAgICAgbWVtYmVyczogW10sDQogICAgICAgICAgICBuZXdzOltdLA0KICAgICAgICAgICAgY3JlYXRlRmxhZzogZmFsc2UsDQogICAgICAgICAgICBlZGl0RmxhZzogZmFsc2UsDQoNCiAgICAgICAgICAgIGVkaXROZXc6ew0KICAgICAgICAgICAgICAgIGlkOiAwLA0KICAgICAgICAgICAgICAgIHRpdGxlOiAnJywNCiAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbl8xOiAnJywNCiAgICAgICAgICAgICAgICBoZWFkZXI6ICcnLA0KICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uXzI6JycsDQogICAgICAgICAgICAgICAgcGhvdG86JycsDQogICAgICAgICAgICAgICAgZGF0ZTogbnVsbA0KICAgICAgICAgICAgfSwNCg0KICAgICAgICAgICAgbmV3c2ZpZWxkczpbDQogICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICBrZXk6ICdpZCcsDQogICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgIGtleTogJ3RpdGxlJywNCiAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAga2V5OiAnZGVzY3JpcHRpb25fMScsDQogICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgIGtleTogJ2hlYWRlcicsDQogICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgIGtleTogJ2Rlc2NyaXB0aW9uXzInLA0KICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICBrZXk6ICdwaG90bycsDQogICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgIGtleTogJ2RhdGUnLA0KICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICBrZXk6ICdlZGl0JywNCiAgICAgICAgICAgICAgICAgICAgbGFiZWw6ICcnDQogICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgIGtleTogJ2RlbGV0ZScsDQogICAgICAgICAgICAgICAgICAgIGxhYmVsOiAnJw0KICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICBdDQogICAgICAgIH0NCiAgICB9LA0KDQogICAgY3JlYXRlZCgpew0KICAgICAgICB0aGlzLmdldEdhbWVzKCk7DQogICAgICAgIC8vdGhpcy5nZXRNZW1iZXJzKCk7IA0KICAgICAgICB0aGlzLmdldE5ld3MoKTsNCiAgICB9LA0KDQogICAgbWV0aG9kczp7DQoNCiAgICAgICAgIGdldEdhbWVzKCl7DQogICAgICAgICAgICBHYW1lRGF0YVNlcnZpY2UuZ2V0QWxsKCkNCiAgICAgICAgICAgIC50aGVuKHJlc3BvbnNlID0+ew0KICAgICAgICAgICAgICAgIHRoaXMuZ2FtZXM9cmVzcG9uc2UuZGF0YTsNCiAgICAgICAgICAgIH0pDQogICAgICAgICAgICAuY2F0Y2goZSA9PnsNCiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlKTsNCiAgICAgICAgICAgIH0pOw0KICAgICAgICB9LA0KDQogICAgICAgIGdldE5ld3MoKXsNCiAgICAgICAgICAgIE5ld3NEYXRhU2VydmljZS5nZXRBbGwoKQ0KICAgICAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT57DQogICAgICAgICAgICAgICAgdGhpcy5uZXdzPXJlc3BvbnNlLmRhdGE7DQogICAgICAgICAgICB9KQ0KICAgICAgICAgICAgLmNhdGNoKGUgPT57DQogICAgICAgICAgICAgICAgY29uc29sZS5sb2coZSk7DQogICAgICAgICAgICB9KTsNCiAgICAgICAgfSwNCg0KICAgICAgICBjcmVhdGVNb2RhbCgpew0KICAgICAgICAgICAgdGhpcy5jcmVhdGVGbGFnPXRydWU7DQogICAgICAgICAgICB0aGlzLmVkaXRGbGFnPWZhbHNlOw0KICAgICAgICAgICAgdGhpcy4kcmVmc1snZWRpdE1vZGFsJ10uc2hvdygpDQogICAgICAgIH0sDQoNCiAgICAgICAgY3JlYXRlTmV3cygpew0KICAgICAgICAgICAgbGV0IGNvbnQ9dGhpczsNCiAgICAgICAgICAgIGNvbnNvbGUubG9nKHRoaXMuZWRpdE5ldyk7DQogICAgICAgICAgICBsZXQgbmV3X25ldyA9IHsNCiAgICAgICAgICAgICAgICB0aXRsZTogdGhpcy5lZGl0TmV3LnRpdGxlLA0KICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uXzE6IHRoaXMuZWRpdE5ldy5kZXNjcmlwdGlvbl8xLA0KICAgICAgICAgICAgICAgIGhlYWRlcjogdGhpcy5lZGl0TmV3LmhlYWRlciwNCiAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbl8yOnRoaXMuZWRpdE5ldy5kZXNjcmlwdGlvbl8yLA0KICAgICAgICAgICAgICAgIGRhdGU6IHRoaXMuZWRpdE5ldy5kYXRlLA0KICAgICAgICAgICAgICAgIHBob3RvOiB0aGlzLmVkaXROZXcucGhvdG8sDQogICAgICAgICAgICB9Ow0KDQoNCiAgICAgICAgICAgIE5ld3NEYXRhU2VydmljZS5jcmVhdGUobmV3X25ldykNCiAgICAgICAgICAgICAgICAudGhlbihyZXNwb25zZSA9PiB7DQogICAgICAgICAgICBjb250Lm5ld3MucHVzaChyZXNwb25zZS5kYXRhKTsNCiAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlLmRhdGEpOw0KICAgICAgICAgICAgfSkNCiAgICAgICAgICAgICAgICAuY2F0Y2goZSA9PiB7DQogICAgICAgICAgICBjb25zb2xlLmxvZyhlKTsNCiAgICAgICAgICAgIH0pOw0KDQogICAgICAgIH0sDQoNCiAgICAgICAgZGVsZXRlTmV3KGRhdGEpew0KICAgICAgICAgICAgTmV3c0RhdGFTZXJ2aWNlLmRlbGV0ZShkYXRhLml0ZW0uaWQpDQogICAgICAgIC50aGVuKHJlc3BvbnNlID0+IHsNCiAgICAgICAgICBjb25zb2xlLmxvZyhyZXNwb25zZS5kYXRhKTsNCiAgICAgICAgfSkNCiAgICAgICAgLmNhdGNoKGUgPT4gew0KICAgICAgICAgIGNvbnNvbGUubG9nKGUpOw0KICAgICAgICB9KTsNCiAgICAgICAgdGhpcy5nZXROZXdzKCk7DQogICAgICAgIH0sDQoNCiAgICAgICAgc2hvd01vZGFsKGRhdGEpew0KICAgICAgICAgICAgdGhpcy5lZGl0TmV3LmlkPWRhdGEuaXRlbS5pZDsNCiAgICAgICAgICAgIHRoaXMuZWRpdE5ldy50aXRsZT1kYXRhLml0ZW0udGl0bGU7DQogICAgICAgICAgICB0aGlzLmVkaXROZXcuZGVzY3JpcHRpb25fMT1kYXRhLml0ZW0uZGVzY3JpcHRpb25fMTsNCiAgICAgICAgICAgIHRoaXMuZWRpdE5ldy5oZWFkZXI9ZGF0YS5pdGVtLmhlYWRlcjsNCiAgICAgICAgICAgIHRoaXMuZWRpdE5ldy5kZXNjcmlwdGlvbl8yPWRhdGEuaXRlbS5kZXNjcmlwdGlvbl8yOw0KICAgICAgICAgICAgdGhpcy5lZGl0TmV3LnBob3RvPWRhdGEuaXRlbS5waG90bzsNCiAgICAgICAgICAgIHRoaXMuZWRpdE5ldy5kYXRlPWRhdGEuaXRlbS5kYXRlOw0KICAgICAgICAgICAgdGhpcy5jcmVhdGVGbGFnPWZhbHNlOw0KICAgICAgICAgICAgdGhpcy5lZGl0RmxhZz10cnVlOw0KICAgICAgICAgICAgdGhpcy4kcmVmc1snZWRpdE1vZGFsJ10uc2hvdygpDQogICAgICAgIH0sDQoNCiAgICAgICAgZWRpdE5ld01ldGhvZCgpew0KICAgICAgICAgICAgIGxldCBuZXdzID0gew0KICAgICAgICAgICAgICAgIGlkOiB0aGlzLmVkaXROZXcuaWQsDQogICAgICAgICAgICAgICAgdGl0bGU6IHRoaXMuZWRpdE5ldy50aXRsZSwNCiAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbl8xOiB0aGlzLmVkaXROZXcuZGVzY3JpcHRpb25fMSwNCiAgICAgICAgICAgICAgICBoZWFkZXI6IHRoaXMuZWRpdE5ldy5oZWFkZXIsDQogICAgICAgICAgICAgICAgZGVzY3JpcHRpb25fMjp0aGlzLmVkaXROZXcuZGVzY3JpcHRpb25fMiwNCiAgICAgICAgICAgICAgICBwaG90bzogdGhpcy5lZGl0TmV3LnBob3RvLA0KICAgICAgICAgICAgICAgIGRhdGU6IHRoaXMuZWRpdE5ldy5kYXRlLA0KICAgICAgICAgICAgfTsNCiAgICAgICAgICAgIGNvbnNvbGUubG9nKG5ld3MuaWQpOw0KDQogICAgICAgICAgICBOZXdzRGF0YVNlcnZpY2UudXBkYXRlKG5ld3MuaWQsIG5ld3MpDQogICAgICAgICAgICAudGhlbihyZXNwb25zZSA9PiB7DQogICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ3Ryb2xvbG9sb2xvIScpDQogICAgICAgICAgICBjb25zb2xlLmxvZyhyZXNwb25zZS5kYXRhKTsNCiAgICAgICAgICAgIH0pDQogICAgICAgICAgICAuY2F0Y2goZSA9PiB7DQogICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ2JsYWxsYWxhJykNCiAgICAgICAgICAgIGNvbnNvbGUubG9nKGUpOw0KICAgICAgICAgICAgfSk7DQogICAgICAgICAgICB0aGlzLmhpZGVNb2RhbCgpOw0KICAgICAgICAgICAgDQogICAgICAgIH0sDQoNCiAgICAgICAgaGlkZU1vZGFsKCl7DQogICAgICAgICAgICB0aGlzLiRyZWZzWydlZGl0TW9kYWwnXS5oaWRlKCk7DQogICAgICAgICAgICB0aGlzLmdldE5ld3MoKTsNCiAgICAgICAgfQ0KDQogICAgfQ0KfQ0K"},{"version":3,"sources":["adminPage.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6DA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA","file":"adminPage.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n    <div >\r\n        <div class=\"header\">\r\n        <a href=\"/\" ><img style=\"width: 14%; margin: 0;\" src=\"../assets/main_logo.svg\"/></a>\r\n        </div>\r\n        <div style=\"padding-top: 15%\">\r\n            <div><b-button v-on:click=\"createModal\"\r\n            class=\"primary-button\">\r\n                         Create post\r\n                     </b-button></div>\r\n            <b-table hover \r\n            :items=\"news\" \r\n            :fields=\"newsfields\">\r\n                <template v-slot:cell(edit)=\"data\">\r\n                     <b-button  v-on:click=\"showModal(data)\">\r\n                         edit\r\n                     </b-button>\r\n                </template>\r\n                <template v-slot:cell(delete)=\"data\">\r\n                     <b-button v-on:click=\"deleteNew(data)\">\r\n                         delete\r\n                     </b-button>\r\n                </template>\r\n            </b-table>\r\n        </div>\r\n\r\n        <b-modal body-bg-variant=\"dark\" ref=\"editModal\" hide-footer title=\"Sending a message:\">\r\n            <b-container>\r\n                <b-row style=\"margin: 24px 0px 0px 0px;\">\r\n            <b-form-input v-model=\"editNew.title\" placeholder=\"Title\"></b-form-input>\r\n                </b-row>\r\n                <b-row style=\"margin: 24px 0px 0px 0px;\">\r\n            <b-form-textarea v-model=\"editNew.description_1\" placeholder=\"first description\"></b-form-textarea>\r\n            </b-row>\r\n            <b-row style=\"margin: 24px 0px 0px 0px;\">\r\n            <b-form-input v-model=\"editNew.header\" placeholder=\"Header\"></b-form-input>\r\n             </b-row>\r\n                <b-row style=\"margin: 24px 0px 0px 0px;\">\r\n            <b-form-textarea v-model=\"editNew.description_2\" placeholder=\"Second description\"></b-form-textarea>\r\n             </b-row>\r\n            <b-row style=\"margin: 24px 0px 0px 0px;\">\r\n                <b-form-input v-model=\"editNew.photo\" placeholder=\"Enter the photo url\"></b-form-input>\r\n            </b-row>\r\n            <b-row style=\"margin: 24px 0px 0px 0px;\">\r\n                <b-form-input type=\"date\" v-model=\"editNew.date\" placeholder=\"Date of post\"></b-form-input>\r\n            </b-row>\r\n\r\n                 <b-row style=\"margin: 24px 0px 0px 0px;\">\r\n                    <b-button v-if=\"editFlag\"  style=\"margin: 2rem 0 0 0 ;\" class=\"primary-button\"\r\n                    v-on:click=\"editNewMethod\">Edit</b-button>\r\n                    <b-button v-if=\"createFlag\"  style=\"margin: 2rem 0 0 0 ;\" class=\"primary-button\"\r\n                    v-on:click=\"createNews\">Create</b-button>\r\n                 </b-row>\r\n            </b-container>\r\n        </b-modal>\r\n        \r\n    </div>\r\n</template>\r\n\r\n<script>\r\n\r\nimport GameDataService from \"../services/GameDataService\";\r\n//import MemberDataService from \"../services/MemberDataService\";\r\nimport NewsDataService from\"../services/NewsDataService\"\r\n\r\nexport default {\r\n    \r\n    name: \"adminPanel\",\r\n\r\n    data(){\r\n        return{\r\n            games:[],\r\n            members: [],\r\n            news:[],\r\n            createFlag: false,\r\n            editFlag: false,\r\n\r\n            editNew:{\r\n                id: 0,\r\n                title: '',\r\n                description_1: '',\r\n                header: '',\r\n                description_2:'',\r\n                photo:'',\r\n                date: null\r\n            },\r\n\r\n            newsfields:[\r\n                {\r\n                    key: 'id',\r\n                },\r\n                {\r\n                    key: 'title',\r\n                },\r\n                {\r\n                    key: 'description_1',\r\n                },\r\n                {\r\n                    key: 'header',\r\n                },\r\n                {\r\n                    key: 'description_2',\r\n                },\r\n                {\r\n                    key: 'photo',\r\n                },\r\n                {\r\n                    key: 'date',\r\n                },\r\n                {\r\n                    key: 'edit',\r\n                    label: ''\r\n                },\r\n                {\r\n                    key: 'delete',\r\n                    label: ''\r\n                },\r\n            ]\r\n        }\r\n    },\r\n\r\n    created(){\r\n        this.getGames();\r\n        //this.getMembers(); \r\n        this.getNews();\r\n    },\r\n\r\n    methods:{\r\n\r\n         getGames(){\r\n            GameDataService.getAll()\r\n            .then(response =>{\r\n                this.games=response.data;\r\n            })\r\n            .catch(e =>{\r\n                console.log(e);\r\n            });\r\n        },\r\n\r\n        getNews(){\r\n            NewsDataService.getAll()\r\n            .then(response =>{\r\n                this.news=response.data;\r\n            })\r\n            .catch(e =>{\r\n                console.log(e);\r\n            });\r\n        },\r\n\r\n        createModal(){\r\n            this.createFlag=true;\r\n            this.editFlag=false;\r\n            this.$refs['editModal'].show()\r\n        },\r\n\r\n        createNews(){\r\n            let cont=this;\r\n            console.log(this.editNew);\r\n            let new_new = {\r\n                title: this.editNew.title,\r\n                description_1: this.editNew.description_1,\r\n                header: this.editNew.header,\r\n                description_2:this.editNew.description_2,\r\n                date: this.editNew.date,\r\n                photo: this.editNew.photo,\r\n            };\r\n\r\n\r\n            NewsDataService.create(new_new)\r\n                .then(response => {\r\n            cont.news.push(response.data);\r\n            console.log(response.data);\r\n            })\r\n                .catch(e => {\r\n            console.log(e);\r\n            });\r\n\r\n        },\r\n\r\n        deleteNew(data){\r\n            NewsDataService.delete(data.item.id)\r\n        .then(response => {\r\n          console.log(response.data);\r\n        })\r\n        .catch(e => {\r\n          console.log(e);\r\n        });\r\n        this.getNews();\r\n        },\r\n\r\n        showModal(data){\r\n            this.editNew.id=data.item.id;\r\n            this.editNew.title=data.item.title;\r\n            this.editNew.description_1=data.item.description_1;\r\n            this.editNew.header=data.item.header;\r\n            this.editNew.description_2=data.item.description_2;\r\n            this.editNew.photo=data.item.photo;\r\n            this.editNew.date=data.item.date;\r\n            this.createFlag=false;\r\n            this.editFlag=true;\r\n            this.$refs['editModal'].show()\r\n        },\r\n\r\n        editNewMethod(){\r\n             let news = {\r\n                id: this.editNew.id,\r\n                title: this.editNew.title,\r\n                description_1: this.editNew.description_1,\r\n                header: this.editNew.header,\r\n                description_2:this.editNew.description_2,\r\n                photo: this.editNew.photo,\r\n                date: this.editNew.date,\r\n            };\r\n            console.log(news.id);\r\n\r\n            NewsDataService.update(news.id, news)\r\n            .then(response => {\r\n                console.log('trololololo!')\r\n            console.log(response.data);\r\n            })\r\n            .catch(e => {\r\n                console.log('blallala')\r\n            console.log(e);\r\n            });\r\n            this.hideModal();\r\n            \r\n        },\r\n\r\n        hideModal(){\r\n            this.$refs['editModal'].hide();\r\n            this.getNews();\r\n        }\r\n\r\n    }\r\n}\r\n</script>"]}]}